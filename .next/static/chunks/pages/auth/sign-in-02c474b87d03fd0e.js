(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{8040:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/sign-in",function(){return s(330)}])},7131:function(e,r,s){"use strict";s.d(r,{Z:function(){return j}});var t=s(5893),n=s(6310),a=s(1163),i=s.n(a),l=s(1664),o=s.n(l),_=s(1798),c=s(7536),d=s(7294),u=s(7533),m=s(4499),h=s(8684),f=s(8229),p=s(7899),g=s(856),w=s.n(g),x=s(1529),j=e=>{var r,s,a,l;let{authCallback:g,page:j}=e,{t:N}=(0,_.$G)(),v=n.Ry().shape({email:n.Z_().required(N("validation.required")||"").matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,N("validation.email")||""),password:n.Z_().required(N("validation.required")||"").matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#-_?&])[A-Za-z\d@$!%*#-_?&]{8,}$/,N("validation.password")||"")}),b=(0,u.X)(v),{register:y,handleSubmit:I,formState:{errors:S}}=(0,c.cI)({resolver:b}),[Z,k]=(0,d.useState)(""),[E,P]=(0,d.useState)(!1),G=I(async e=>{let{email:r,password:s}=e;P(!0);try{await g(r,s),P(!1),i().push(f.Z.APP)}catch(r){let e=function(e){switch(e.code){case"auth/email-already-in-use":return"The email address is already in use";case"auth/invalid-email":return"The email address is not valid.";case"auth/operation-not-allowed":return"Operation not allowed.";case"auth/user-not-found":return"User not found!";case"auth/wrong-password":return"Wrong username or password!";default:return e.message}}(r);k(e),P(!1)}});return(0,t.jsx)(h.Z,{children:(0,t.jsxs)("section",{className:w().form__wrapper,children:[(0,t.jsx)("picture",{children:(0,t.jsx)("img",{src:"/sign-in-img.png",className:w().form__img,alt:"sign-in"})}),(0,t.jsx)("div",{className:w().form__block,children:(0,t.jsxs)("form",{className:w().form,onSubmit:G,children:[E?(0,t.jsx)("div",{className:w().form__loading,children:(0,t.jsx)(m.Z,{loading:E,color:"#a359ff"})}):null,Z&&(0,t.jsx)("p",{className:w().form__error,"data-testid":"auth-error",children:Z}),(0,t.jsxs)("div",{className:w().form__controls,children:[(0,t.jsxs)("div",{className:w().form__item,children:[(0,t.jsx)("input",{className:w().form__input,id:"email",type:"text",...y("email"),placeholder:N("sign.placeholder-email")||""}),(0,t.jsx)("label",{className:w().form__label,htmlFor:"email",children:N("sign.email")}),(null===(r=S.email)||void 0===r?void 0:r.message)&&(0,t.jsx)("p",{className:w().form__error,"data-testid":"auth-error",children:null===(s=S.email)||void 0===s?void 0:s.message})]}),(0,t.jsxs)("div",{className:w().form__item,children:[(0,t.jsx)("input",{className:w().form__input,id:"password",type:"password",...y("password"),placeholder:N("sign.placeholder-password")||""}),(0,t.jsx)("label",{className:w().form__label,htmlFor:"password",children:N("sign.password")}),(null===(a=S.password)||void 0===a?void 0:a.message)&&(0,t.jsx)("p",{className:w().form__error,"data-testid":"auth-error",children:null===(l=S.password)||void 0===l?void 0:l.message})]})]}),(0,t.jsx)(x.c,{children:(0,t.jsx)(p.Z,{type:"submit",text:"SIGN_IN"===j?"".concat(N("header.btn-signin")):"".concat(N("header.btn-signup")),iconProps:{src:"/sign-in.png",alt:"sign-in icon",size:32},testId:"auth-btn"})}),(0,t.jsx)("p",{children:"SIGN_IN"===j?(0,t.jsxs)(t.Fragment,{children:[N("sign.account-false"),(0,t.jsxs)(o(),{"data-testid":"login-link",href:f.Z.SIGN_UP,children:[N("header.btn-signup"),"!"]})]}):(0,t.jsxs)(t.Fragment,{children:[N("sign.account-true"),(0,t.jsxs)(o(),{"data-testid":"login-link",href:f.Z.SIGN_IN,children:[N("header.btn-signin"),"!"]})]})})]})})]})})}},7899:function(e,r,s){"use strict";var t=s(5893),n=s(2416),a=s.n(n),i=s(5675),l=s.n(i);r.Z=e=>{let{onClick:r,type:s="button",text:n,iconProps:i,testId:o}=e;return(0,t.jsxs)("button",{type:s,className:a().btn,onClick:r,"data-testid":o,children:[i?(0,t.jsx)(l(),{src:i.src,width:i.size,height:i.size,alt:i.alt}):null,(0,t.jsx)("span",{children:n})]})}},1529:function(e,r,s){"use strict";s.d(r,{c:function(){return a}});var t=s(5893),n=s(4511);let a=e=>{let{children:r}=e;return(0,t.jsx)(n.SV,{fallback:(0,t.jsx)("div",{children:"Something went wrong..."}),children:r})}},8684:function(e,r,s){"use strict";var t=s(5893),n=s(76),a=s.n(n);r.Z=e=>{let{children:r}=e;return(0,t.jsx)("div",{className:a().container,children:r})}},8229:function(e,r){"use strict";r.Z={SIGN_IN:"/auth/sign-in",SIGN_UP:"/auth/sign-up",WELCOME:"/",APP:"/app"}},2037:function(e,r,s){"use strict";s.d(r,{LE:function(){return c},bE:function(){return _},kS:function(){return d}});var t=s(3977),n=s(9828),a=s(1259);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(0,t.Mq)()}catch(r){return(0,t.ZF)(e)}}({apiKey:"AIzaSyCOsYwn1mafgZjvCuduhYfXXp4z06tPMGI",authDomain:"mental-health-app-45e07.firebaseapp.com",projectId:"mental-health-app-45e07",storageBucket:"mental-health-app-45e07.appspot.com",messagingSenderId:"944541102314",appId:"1:944541102314:web:77bcc2f993cbd74862e793"}),l=(0,n.ad)(i),o=(0,a.v0)(i),_=async(e,r)=>await (0,a.Xb)(o,e,r).then(async r=>(await (0,n.ET)((0,n.hJ)(l,"users"),{id:r.user.uid,email:e}),r)),c=async(e,r)=>(0,a.e5)(o,e,r),d=async()=>{(0,a.w7)(o)};(0,a.Fb)(o,a.aT)},330:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return l}});var t=s(5893),n=s(2037),a=s(7131),i=s(1529),l=!0;r.default=()=>{let e=async(e,r)=>await (0,n.LE)(e,r);return(0,t.jsx)(i.c,{children:(0,t.jsx)(a.Z,{authCallback:e,page:"SIGN_IN"})})}},856:function(e){e.exports={form:"style_form__1epTQ",form__block:"style_form__block__kmB3p",form__wrapper:"style_form__wrapper__3reV_",form__img:"style_form__img__4Cp1I",form__loading:"style_form__loading__sVsFi",form__title:"style_form__title__zZ74a",form__title_link:"style_form__title_link__8UlKO",form__controls:"style_form__controls__TxvJ1",form__error:"style_form__error__lmvEh",form__item:"style_form__item__pWGOV",form__input:"style_form__input__vwCBz",form__label:"style_form__label__1hO31"}},2416:function(e){e.exports={btn:"style_btn__EWcyD"}},76:function(e){e.exports={container:"style_container__QfKPO"}}},function(e){e.O(0,[16,737,249,554,774,888,179],function(){return e(e.s=8040)}),_N_E=e.O()}]);